library('RSelenium')
library('XML')
#checkForServer() # search for and download Selenium Server java binary.  Only need to run once.
#startServer() # run Selenium Server binary
remDr <- remoteDriver(browserName="firefox", port = 5556)
#remDr <- remoteDriver(browserName="firefox", port=4444) # instantiate remote driver to connect to Selenium Server
remDr$open(silent=T) # open web browser
checkForServer() # search for and download Selenium Server java binary.  Only need to run once.
startServer() # run Selenium Server binary
#checkForServer() # search for and download Selenium Server java binary.  Only need to run once.
#startServer() # run Selenium Server binary
remDr <- remoteDriver(browserName="firefox", port = 5556)
#remDr <- remoteDriver(browserName="firefox", port=4444) # instantiate remote driver to connect to Selenium Server
remDr$open(silent=T) # open web browser
master <- c()
n <- 5 # number of pages to scrape.  5928 reviews in total.  Loads 10 at a time.
for(i in 1:n){
site <- paste0("https://secure.mygov.in/group-issue/inputs-draft-national-education-policy-2016/?field_hashtags_tid=&amp;sort_by=created&amp;sort_order=DESC&amp;page=0%2C", i)
elem <- remDr$findElement(using="id", value="div") # get big table in text string
elem$highlightElement() # just for interactive use in browser.  not necessary.
elemtxt <- elem$getElementAttribute("outerHTML")[[1]] # gets us the HTML
elemxml <- htmlTreeParse(elemtxt, useInternalNodes=T) # parse string into HTML tree to allow for querying with XPath
fundList <- unlist(xpathApply(elemxml, '//div[@class]'))#'//div[@class='comment_content']/div[@class='content']/div[@class='comment_body']/p', xmlGetAttr, 'content')) # parses out just the fund name and ticker using XPath
master <- c(master, fundList) # append fund lists from each page together
}
n = 1
i = 1
site <- paste0("https://secure.mygov.in/group-issue/inputs-draft-national-education-policy-2016/?field_hashtags_tid=&amp;sort_by=created&amp;sort_order=DESC&amp;page=0%2C", i)
elem <- remDr$findElement(using="id", value="div") # get big table in text string
elem$highlightElement() # just for interactive use in browser.  not necessary.
source('~/Documents/R experiments/Web-crawler-sample.R')
nodes
source('~/Documents/R experiments/Web-crawler-sample.R')
nodes
source('~/Documents/R experiments/Web-crawler-sample.R')
source('~/Documents/R experiments/Web-crawler-sample.R')
k
source('~/Documents/R experiments/Web-crawler-sample.R')
source('~/Documents/R experiments/Web-crawler-sample.R')
source('~/Documents/R experiments/Web-crawler-sample.R')
source('~/Documents/R experiments/Web-crawler-sample.R')
source('~/Documents/R experiments/Web-crawler-sample.R')
source('~/Documents/R experiments/Web-crawler-sample.R')
source('~/Documents/R experiments/Web-crawler-sample.R')
k
source('~/Documents/R experiments/Web-crawler-sample.R')
k
source('~/Documents/R experiments/Web-crawler-sample.R')
k
source('~/Documents/R experiments/Web-crawler-sample.R')
source('~/Documents/R experiments/Web-crawler-sample.R')
source('~/Documents/R experiments/Web-crawler-sample.R')
source('~/Documents/R experiments/Web-crawler-sample.R')
k
source('~/Documents/R experiments/Web-crawler-sample.R')
source('~/Documents/R experiments/Web-crawler-sample.R')
source('~/Documents/R experiments/Web-crawler-sample.R')
source('~/Documents/R experiments/Web-crawler-sample.R')
source('~/Documents/R experiments/Web-crawler-sample.R')
source('~/Documents/R experiments/Web-crawler-sample.R')
source('~/Documents/R experiments/Web-crawler-sample.R')
k
this_nodes
data = c(12,45,30,80,26)
mean = mean(data)
mean
sd(data)
d2 = (data - min(data))/(max(data) - min(data))
d2
source('~/Documents/R experiments/Web-crawler-sep-files.R')
s
this_nodes
source('~/Documents/R experiments/Web-crawler-sep-files.R')
source('~/Documents/R experiments/Web-crawler-sep-files.R')
this_nodes
length(this_nodes)
this_nodes[1]
this_nodes[10]
this_nodes[[10]]
as(this_nodes[[10]], "character")
this_links
l = as.character(this_links)
df_links = data.frame(k,l)
id <- rownames(df_links)
df_links <- cbind(id=id, df_links)
names(df_links) = c("SNo","PgNo","Link")
df_links
source('~/Documents/R experiments/Web-crawler-sep-files.R')
source('~/Documents/R experiments/Web-crawler-sep-files.R')
source('~/Documents/R experiments/Web-crawler-sep-files.R')
id
id + 2
as.numeric(id)
id = as.numeric(id) + lastrow
df_links <- cbind(id=id, df_links)
df_links
#t = t + 1
lastrow = lastrow + length(this_links)
id = as.numeric(id) + lastrow
df_links <- cbind(id=id, df_links)
df_links
source('~/Documents/R experiments/Web-crawler-sep-files.R')
source('~/Documents/R experiments/Web-crawler-sep-files.R')
k = k + 1
2/3
2%/%3
3%/%2
3/2
3%%2
3%2
source('~/Documents/R experiments/Web-crawler-sep-files.R')
source('~/Documents/R experiments/Web-crawler-sep-files.R')
source('~/Documents/R experiments/Web-crawler-sep-files.R')
df_links
k
df_links = cbind(k, df_links)
df_links
l
length(l)
if(length(l) > 0){
df_links = data.frame(l)
df_links = cbind(k, df_links)
id <- rownames(df_links)
id = as.numeric(id) + lastrow
df_links <- cbind(id=id, df_links)
names(df_links) = c("SNo","PgNo","Link")
write.table(df_links, file = "/Users/swagata/Documents/MyGov-NEP-comments/pdf_links_all.csv", sep = ",", append = TRUE, row.names=F, col.names=!file.exists("/Users/swagata/Documents/MyGov-NEP-comments/pdf_links_all.csv"))
#t = t + 1
lastrow = lastrow + length(this_links)
}
k
source('~/Documents/R experiments/Web-crawler-sep-files.R')
k
lastrow
l
k
this_nodes[10]
source('~/Documents/R experiments/Web-crawler-sep-files.R')
k
source('~/Documents/R experiments/Web-crawler-sep-files.R')
k
source('~/Documents/R experiments/Web-crawler-sep-files.R')
source('~/Documents/R experiments/Web-crawler-sep-files.R')
source('~/Documents/R experiments/Web-crawler-sep-files.R')
k
source('~/Documents/R experiments/Web-crawler-sep-files.R')
k
source('~/Documents/R experiments/Web-crawler-sep-files.R')
k
source('~/Documents/R experiments/Web-crawler-sep-files.R')
k
source('~/Documents/R experiments/Web-crawler-sep-files.R')
source('~/Documents/R experiments/Web-crawler-sep-files.R')
k
source('~/Documents/R experiments/Web-crawler-sep-files.R')
k
source('~/Documents/R experiments/Web-crawler-sep-files.R')
k
source('~/Documents/R experiments/Web-crawler-sep-files.R')
source('~/Documents/R experiments/Web-crawler-sep-files.R')
k
source('~/Documents/R experiments/Web-crawler-sep-files.R')
k
source('~/Documents/R experiments/Web-crawler-sep-files.R')
k
source('~/Documents/R experiments/Web-crawler-sep-files.R')
k
source('~/Documents/R experiments/Web-crawler-sep-files.R')
k
source('~/Documents/R experiments/Web-crawler-sep-files.R')
k
source('~/Documents/R experiments/Web-crawler-sep-files.R')
source('~/Documents/R experiments/Web-crawler-sep-files.R')
source('~/Documents/R experiments/Web-crawler-sep-files.R')
source('~/Documents/R experiments/Web-crawler-sep-files.R')
k
source('~/Documents/R experiments/Web-crawler-sep-files.R')
source('~/Documents/R experiments/Web-crawler-sep-files.R')
vector = c(1,2,3,4,5)
range_Normalize <- function(vector){
min = min(vector)
max = max(vector)
norm_vals = (vector-min)/(max-min)
return norm_vals
}
range_Normalize <- function(vector){
min = min(vector)
max = max(vector)
norm_vals = (vector-min)/(max-min)
return(norm_vals)
}
norm_vec = normalize_vector(vector)
norm_vec
min = min(vector)
min(vector)
max(vector)
vector-min
max-min
max = max(vector)
max-min
norm_vals = (vector-min)/(max-min)
norm_vals
vector
range_Normalize(vector)
x <- data.frame(k1=c(NA,NA,3,4,5), k2=c(1,NA,NA,4,5), data=1:5)
y <- data.frame(k1=c(NA,2,NA,4,5), k2=c(NA,NA,3,4,5), data=1:5)
merge(x, y, by=c("k1","k2")) # NA's match
x <- data.frame(k1=c(1,2,3,4,5), k2 = c(6,7,8,9,0))
y <- data.frame(k1=c(2,1,4,5,3), k2 = c(2,6,7,4,5))
merge(x,y, by=c("k1"))
m = merge(x,y, by=c("k1"))
names(m) = c("k1", "k2", "k3")
m
assortativity_degree(sample_pa(10000, m=4))
library(igraph)
assortativity_degree(sample_pa(10000, m=4))
assortativity(gr)
ring(10)
make_ring(10)
neighbors(make_ring(10), 2)
a = c(1,2,3,4,5)
which(<3)
which(a<3)
a = c(1,3,4,2,5)
which(a<3)
index = which(a<3)
a[index]
|3-1|
3-1
1-3
difference(1,3)
(1-3)
abs(1-3)
sum(c(1,2,3))
a = c("a", "b", "c")
b = c(2,1,1)
df$deg = data.frame(a,b)
names(df$deg) = c("v", "deg")
df_deg = data.frame(a,b)
names(df_deg) = c("v", "deg")
df_deg
deg_v = 2
neighbor = c(2,3)
index = which(df_deg$v == neighbor)
n_deg = df_deg$deg[index]
n_deg
index = which(df_deg$v == neighbor)
neighbor
neighbor = c('b','c')
index = which(df_deg$v == neighbor)
index
neighbor
df_deg$v
neighbor = c(b,c)
df_deg$v
index = which(df_deg$v == neighbor)
df_deg$v[1]
df_deg$v
which(df_deg$v == a)
which(df_deg$v == c(a))
which(df_deg$v == c(a,b))
which(df_deg$v == c(a,b,c,d))
which(df_deg$v == c(a,b,c))
which(df_deg$v == c(a,b))
is.character(df_deg$v)
is.character(neighbors())
is.character(neighbor
)
neighbor
neighbor = c(b,c)
neighbor
b
c
b = NULL
c = NULL
b
c
w
g
y
q
ihwdwd
v = c("a","b","c")
deg = c(2,1,1)
df_deg = data.frame(v,deg)
df_deg
v = "a"
deg_v = df_deg$deg[which(df_deg$v == v)]
deg_v
neighbor = c("b","c")
index = which(df_deg$v == neighbor)
neighbor
df_deg$v
which(df_deg$v == v)
v
which(df_deg$v == c("a","b"))
which(df_deg$v == "b")
which(df_deg$v == "c")
c(1,2,3,4)
x = c(1,2,3,4)
which(x == c(1,2))
which(df_deg$v == c(a,b))
n = c("b","c")
which(df_deg$v == n[1])
which(df_deg$v == n[2])
g = make_ring(10)
knn(g, vids = c(1,3))
knn(g)
knn(g) - 1
knn(g)$knn - 1
is.numeric(knn(g)$knn - 1)
lambda
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
v
?neighbors()
source('~/.active-rstudio-document')
a
text_nodes <- get.vertex.attribute(gr)$name
text_nodes
n = vcount(gr)
n
deg = strength(gr, mode = "all", loops = FALSE) #strength of nodes
deg
df_deg = data.frame(text_nodes, deg)
df_deg
names(df_deg) = c("v", "deg")
graph_assort = assortativity_degree(gr, directed = FALSE) # graph assortativity
graph_assort
n_diff = NULL
for(v in df_deg$v){
deg_v = df_deg$deg[which(df_deg$v == v)]
neighbor = neighbors(gr, v, mode = "all")
ind = NULL
for(k in 1:length(neighbor)){
index = which(df_deg$v == neighbor[k])
ind = c(ind, index)
}
n_deg = df_deg$deg[index]
sum_n = sum(n_deg - deg_v)
n_diff = c(n_diff, (sum_n/deg_v))
}
n_diff
a = NULL
a = c(a, "b")
a
df_deg$v
v = "binari"
deg_v = df_deg$deg[which(df_deg$v == v)]
deg_v
df_deg
neighbor = neighbors(gr, v, mode = "all")
neighbor
ind = NULL
for(k in 1:length(neighbor)){
index = which(df_deg$v == neighbor[k])
ind = c(ind, index)
}
ind
k = 1
index = which(df_deg$v == neighbor[k])
ind = c(ind, index)
ind
neighbor[1]
as.character(neighbor[1])
as.character(neighbor[5])
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
a
text_nodes <- get.vertex.attribute(gr)$name
n = vcount(gr)
deg = strength(gr, mode = "all", loops = FALSE) #strength of nodes
df_deg = data.frame(text_nodes, deg)
names(df_deg) = c("v", "deg")
graph_assort = assortativity_degree(gr, directed = FALSE) # graph assortativity
n_diff = NULL
v
deg_v = df_deg$deg[which(df_deg$v == v)]
neighbor = neighbors(gr, v, mode = "all")
sum_n = 0
u = "commerci"
deg_u = df_deg$deg[which(df_deg$v == u)]
sum_n = sum_n + (abs(deg_u - deg_v))
sum_n
n_diff = c(n_diff, (sum_n/deg_v))
n_diff
for(u in neighbor){
deg_u = df_deg$deg[which(df_deg$v == u)]
sum_n = sum_n + (abs(deg_u - deg_v))
}
n_diff = c(n_diff, (sum_n/deg_v))
n_diff
avg_neigh_diff = Average_neighbor_diff(df_deg, gr) # average neighbor diff
avg_neigh_diff
n_diff = NULL
v
u
u = "commerci"
u
deg_v = df_deg$deg[which(df_deg$v == v)]
neighbor = neighbors(gr, v, mode = "all")
sum_n = 0
deg_u = df_deg$deg[which(df_deg$v == u)]
sum_n = sum_n + (abs(deg_u - deg_v))
for(u in neighbor){
deg_u = df_deg$deg[which(df_deg$v == u)]
sum_n = sum_n + (abs(deg_u - deg_v))
}
n_diff = c(n_diff, (sum_n/deg_v))
n_diff
deg_u = df_deg$deg[which(df_deg$v == u)]
sum_n = sum_n + (abs(deg_u - deg_v))
n_diff = c(n_diff, (sum_n/deg_v))
n_diff
deg_u
u
neighbor
for(u in neighbor){
print(u)
}
as.character(neighbor)
neighbor
g = induced_subgraph(gr, vids = neighbor)
g
g = induced_subgraph(gr, vids = neighbor)
adjacent = get.vertex.attribute(g)$name
sum_n = 0
for(u in adjacent){
deg_u = df_deg$deg[which(df_deg$v == u)]
sum_n = sum_n + (abs(deg_u - deg_v))
}
n_diff = c(n_diff, (sum_n/deg_v))
n_diff
u
avg_neigh_diff = Average_neighbor_diff(df_deg, gr) # average neighbor diff
avg_neigh_diff
n_diff = NULL
for(v in df_deg$v){
deg_v = df_deg$deg[which(df_deg$v == v)]
neighbor = neighbors(gr, v, mode = "all")
g = induced_subgraph(gr, vids = neighbor)
adjacent = get.vertex.attribute(g)$name
sum_n = 0
for(u in adjacent){
deg_u = df_deg$deg[which(df_deg$v == u)]
sum_n = sum_n + (abs(deg_u - deg_v))
}
n_diff = c(n_
n_diff, (sum_n/deg_v))
n_diff = NULL
for(v in df_deg$v){
deg_v = df_deg$deg[which(df_deg$v == v)]
neighbor = neighbors(gr, v, mode = "all")
g = induced_subgraph(gr, vids = neighbor)
adjacent = get.vertex.attribute(g)$name
sum_n = 0
for(u in adjacent){
deg_u = df_deg$deg[which(df_deg$v == u)]
sum_n = sum_n + (abs(deg_u - deg_v))
}
n_diff = c(n_diff, (sum_n/deg_v))
}
n_diff
source('~/.active-rstudio-document')
a
max(a)
install.packages("~/Downloads/sd-test/doc/dgraph.zip", repos = NULL, type = "win.binary", lib="/Library/Frameworks/R.framework/Versions/3.4/Resources/library")
install.packages("~/Downloads/sd-test/doc/dgraph.tar.gz", repos = NULL, type = "source", lib="/Library/Frameworks/R.framework/Versions/3.4/Resources/library")
install.packages("~/Downloads/sd-test/pro/dgraph.tar.gz", repos = NULL, type = "source", lib="/Library/Frameworks/R.framework/Versions/3.4/Resources/library")
install.packages("/Users/swagata/Downloads/sd-test/gnu/dgraph",
repos = NULL,
type = "source")
library(dgraph)
install.packages("/Users/swagata/Downloads/sd-test/pro/dgraph",
repos = NULL,
type = "source")
install.packages("/Users/swagata/Downloads/sd-test/doc/dgraph",
repos = NULL,
type = "source")
source('~/Documents/R experiments/keyphrases_semeval.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
?read.csv
df_krapi = read.csv("/Users/swagata/Documents/KE/cag-properties-july18/krapi/Graph-properties/krapi_node_properties_LAKE-edited.csv", header = TRUE, sep = ",")
df_nlm = read.csv("/Users/swagata/Documents/KE/cag-properties-july18/nlm/Graph-properties/nlm-node-properties_LAKE-edited.csv", header = TRUE, sep = ",")
df_sem = read.csv("/Users/swagata/Documents/KE/cag-properties-july18/semeval/Graph-properties/semeval-node-properties_LAKE-edited.csv", header = TRUE, sep = ",")
write.table(df_krapi, "/Users/swagata/Documents/KE/cag-properties-july18/combined-dataset-krapi-nlm-semeval.csv", append = TRUE, row.names = FALSE, col.names = !file.exists("/Users/swagata/Documents/KE/cag-properties-july18/combined-dataset-krapi-nlm-semeval.csv"), sep = ",")
write.table(df_nlm, "/Users/swagata/Documents/KE/cag-properties-july18/combined-dataset-krapi-nlm-semeval.csv", append = TRUE, row.names = FALSE, col.names = !file.exists("/Users/swagata/Documents/KE/cag-properties-july18/combined-dataset-krapi-nlm-semeval.csv", sep = ","))
write.table(df_sem, "/Users/swagata/Documents/KE/cag-properties-july18/combined-dataset-krapi-nlm-semeval.csv", append = TRUE, row.names = FALSE, col.names = !file.exists("/Users/swagata/Documents/KE/cag-properties-july18/combined-dataset-krapi-nlm-semeval.csv", sep = ","))
df_test =read.csv("/Users/swagata/Documents/KE/cag-properties-july18/combined-dataset-krapi-nlm-semeval.csv")
head(df_test)
df_test =read.csv("/Users/swagata/Documents/KE/cag-properties-july18/combined-dataset-krapi-nlm-semeval.csv", sep = ",", header = TRUE)
head(df_test)
source('~/.active-rstudio-document')
which(df_krapi$Label == "TP")
write.table(df_krapi, "/Users/swagata/Documents/KE/cag-properties-july18/combined-dataset-krapi-nlm-semeval.csv", append = TRUE, row.names = FALSE, col.names = !file.exists("/Users/swagata/Documents/KE/cag-properties-july18/combined-dataset-krapi-nlm-semeval.csv"), sep = ",")
write.table(df_krapi, "/Users/swagata/Documents/KE/cag-properties-july18/combined-dataset-krapi-nlm-semeval.csv", append = TRUE, row.names = FALSE, col.names = !file.exists("/Users/swagata/Documents/KE/cag-properties-july18/combined-dataset-krapi-nlm-semeval.csv"), sep = ",")
df_krapi = read.csv("/Users/swagata/Documents/KE/cag-properties-july18/krapi/Graph-properties/krapi_node_properties_LAKE-edited-1isto10.csv", header = TRUE, sep = ",")
which(df_krapi$Label == "TP")
write.table(df_krapi, "/Users/swagata/Documents/KE/cag-properties-july18/combined-dataset-krapi-nlm-semeval.csv", append = TRUE, row.names = FALSE, col.names = !file.exists("/Users/swagata/Documents/KE/cag-properties-july18/combined-dataset-krapi-nlm-semeval.csv"), sep = ",")
write.table(df_krapi, "/Users/swagata/Documents/KE/cag-properties-july18/combined-dataset-krapi-nlm-semeval.csv", append = TRUE, row.names = FALSE, col.names = !file.exists("/Users/swagata/Documents/KE/cag-properties-july18/combined-dataset-krapi-nlm-semeval.csv"), sep = ",")
head(df_krapi)
tail(df_krapi)
df_nlm = read.csv("/Users/swagata/Documents/KE/cag-properties-july18/nlm/Graph-properties/nlm-node-properties_LAKE-edited-1isto10.csv", header = TRUE, sep = ",")
write.table(df_nlm, "/Users/swagata/Documents/KE/cag-properties-july18/combined-dataset-krapi-nlm-semeval.csv", append = TRUE, row.names = FALSE, col.names = !file.exists("/Users/swagata/Documents/KE/cag-properties-july18/combined-dataset-krapi-nlm-semeval.csv", sep = ","))
df_sem = read.csv("/Users/swagata/Documents/KE/cag-properties-july18/semeval/Graph-properties/semeval-node-properties_LAKE-edited-1isto10.csv", header = TRUE, sep = ",")
write.table(df_sem, "/Users/swagata/Documents/KE/cag-properties-july18/combined-dataset-krapi-nlm-semeval.csv", append = TRUE, row.names = FALSE, col.names = !file.exists("/Users/swagata/Documents/KE/cag-properties-july18/combined-dataset-krapi-nlm-semeval.csv", sep = ","))
write.table(df_nlm, "/Users/swagata/Documents/KE/cag-properties-july18/combined-dataset-krapi-nlm-semeval.csv", append = TRUE, row.names = FALSE, col.names = FALSE, sep = ","))
write.table(df_nlm, "/Users/swagata/Documents/KE/cag-properties-july18/combined-dataset-krapi-nlm-semeval.csv", append = TRUE, row.names = FALSE, col.names = FALSE, sep = ",")
source('~/.active-rstudio-document')
